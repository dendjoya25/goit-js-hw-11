{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createGalleryCardTemplate = imginfo => {\n  return ` \n  <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${imginfo.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${imginfo.webformatURL}\"\n        alt=\"${imginfo.tags}\"\n      />\n    </a>\n    <div class=\"img-details\">\n      <p class=\"detail-item\"><b>Likes:</b> ${imginfo.likes}</p>\n      <p class=\"detail-item\"><b>Views:</b> ${imginfo.views}</p>\n      <p class=\"detail-item\"><b>Comments:</b> ${imginfo.comments}</p>\n      <p class=\"detail-item\"><b>Downloads:</b> ${imginfo.downloads}</p>\n    </div>\n  </li>`;\n};\n\nexport const initializeLightbox = () => {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n};\n","const BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = searchedQuery => {\n  const urlParams = new URLSearchParams({\n    key: '45497823-3ee11a5b90ff874601dfe7178',\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 18,\n  });\n\n  return fetch(`${BASE_URL}?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import {\n  createGalleryCardTemplate,\n  initializeLightbox,\n} from './js/render-functions';\n\nimport { fetchPhotos } from './js/pixabay-api';\nimport iziToast from 'izitoast';\n\nconst formEl = document.querySelector('.js-page-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nconst showLoader = () => {\n  loaderEl.classList.remove('is-hidden');\n};\n\nconst hideLoader = () => {\n  loaderEl.classList.add('is-hidden');\n};\n\nconst onFormElSubmit = event => {\n  event.preventDefault();\n\n  const searchedValue = formEl.elements.user_query.value;\n\n  showLoader();\n\n  fetchPhotos(searchedValue)\n    .then(data => {\n      if (data.hits && data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        galleryEl.innerHTML = '';\n        formEl.reset();\n        return;\n      }\n\n      const galleryCardsTemplate = data.hits\n        .map(imgDetails => createGalleryCardTemplate(imgDetails))\n        .join('');\n\n      galleryEl.innerHTML = galleryCardsTemplate;\n\n      initializeLightbox();\n    })\n    .catch(err => {\n      console.log(err);\n      iziToast.error({\n        message: 'Something went wrong. Please try again!',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n};\n\nformEl.addEventListener('submit', onFormElSubmit);\n"],"names":["createGalleryCardTemplate","imginfo","initializeLightbox","SimpleLightbox","BASE_URL","fetchPhotos","searchedQuery","urlParams","response","formEl","galleryEl","loaderEl","showLoader","hideLoader","onFormElSubmit","event","searchedValue","data","iziToast","galleryCardsTemplate","imgDetails","err"],"mappings":"6vBAGO,MAAMA,EAA4BC,GAChC;AAAA;AAAA,oCAE2BA,EAAQ,aAAa;AAAA;AAAA;AAAA,eAG1CA,EAAQ,YAAY;AAAA,eACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,6CAIkBA,EAAQ,KAAK;AAAA,6CACbA,EAAQ,KAAK;AAAA,gDACVA,EAAQ,QAAQ;AAAA,iDACfA,EAAQ,SAAS;AAAA;AAAA,SAKrDC,EAAqB,IAAM,CACrB,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,EC9BMC,EAAW,2BAEJC,EAAcC,GAAiB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EAAE,KAAKC,GAAY,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECVMC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAE9CC,EAAa,IAAM,CACvBD,EAAS,UAAU,OAAO,WAAW,CACvC,EAEME,EAAa,IAAM,CACvBF,EAAS,UAAU,IAAI,WAAW,CACpC,EAEMG,EAAiBC,GAAS,CAC9BA,EAAM,eAAc,EAEpB,MAAMC,EAAgBP,EAAO,SAAS,WAAW,MAEjDG,IAEAP,EAAYW,CAAa,EACtB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACvCC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDR,EAAU,UAAY,GACtBD,EAAO,MAAK,EACZ,MACD,CAED,MAAMU,EAAuBF,EAAK,KAC/B,IAAIG,GAAcpB,EAA0BoB,CAAU,CAAC,EACvD,KAAK,EAAE,EAEVV,EAAU,UAAYS,EAEtBjB,GACN,CAAK,EACA,MAAMmB,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfH,EAAS,MAAM,CACb,QAAS,0CACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,GACN,CAAK,CACL,EAEAJ,EAAO,iBAAiB,SAAUK,CAAc"}